<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœè«–çš„AIç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³ å‹•çš„ãƒ‡ãƒ¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .input-section {
            background: #f8f9fa;
            padding: 30px;
            border-bottom: 2px solid #e9ecef;
        }
        
        .input-title {
            font-size: 1.8em;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .input-group {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .input-group:hover {
            border-color: #3498db;
            transform: translateY(-2px);
        }
        
        .group-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .group-title .icon {
            margin-right: 10px;
            font-size: 1.2em;
        }
        
        .input-field {
            margin-bottom: 15px;
        }
        
        .input-label {
            display: block;
            font-weight: 600;
            color: #555;
            margin-bottom: 5px;
        }
        
        .input-control {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }
        
        .input-control:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        .input-range {
            width: 100%;
            margin: 10px 0;
        }
        
        .range-display {
            text-align: center;
            font-weight: bold;
            color: #3498db;
            margin-top: 5px;
        }
        
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
        }
        
        .checkbox-item input[type="checkbox"] {
            margin-right: 8px;
            transform: scale(1.2);
        }
        
        .generate-btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 15px 30px;
            margin: 20px auto;
            display: block;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }
        
        .architecture-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border: 3px solid #e0e0e0;
            transition: all 0.3s ease;
            min-height: 600px;
        }
        
        .architecture-panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }
        
        .sa1 {
            border-color: #3498db;
        }
        
        .sa2 {
            border-color: #e74c3c;
        }
        
        .sa3 {
            border-color: #2ecc71;
        }
        
        .panel-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .panel-title {
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .panel-subtitle {
            font-size: 1em;
            opacity: 0.7;
        }
        
        .component-list {
            margin-bottom: 20px;
        }
        
        .component {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            border-left: 4px solid #ddd;
            transition: all 0.3s ease;
        }
        
        .component:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        
        .component-name {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .component-specs {
            font-size: 0.9em;
            color: #666;
        }
        
        .metrics {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }
        
        .metric-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .metric-row:last-child {
            border-bottom: none;
        }
        
        .metric-label {
            font-weight: 600;
            color: #555;
        }
        
        .metric-value {
            font-weight: bold;
            color: #2c3e50;
        }
        
        .controls {
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
        }
        
        .transform-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            margin: 10px;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .transform-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .transform-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
        }
        
        .reset-btn {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
        }
        
        .verification {
            grid-column: 1 / -1;
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .verification h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.5em;
        }
        
        .verification-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .verification-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            border-left: 5px solid #ddd;
        }
        
        .verification-item.pass {
            border-left-color: #27ae60;
            background: #d5f5e3;
        }
        
        .verification-item.fail {
            border-left-color: #e74c3c;
            background: #fadbd8;
        }
        
        .check-icon {
            font-size: 1.2em;
            margin-right: 8px;
        }
        
        .progress-animation {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.6; }
            100% { opacity: 1; }
        }
        
        .hidden {
            display: none;
        }
        
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 20px;
            color: #856404;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .input-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”¬ åœè«–çš„AIç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³</h1>
            <p>å‹•çš„ä»•æ§˜è¨­å®šå¯¾å¿œ - è©±é¡Œæ²¸é¨°ãƒãƒƒãƒˆè‡ªå‹•è¨­è¨ˆã‚·ã‚¹ãƒ†ãƒ </p>
        </div>
        
        <!-- ä»•æ§˜å…¥åŠ›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="input-section">
            <h2 class="input-title">ğŸ“ SA1 ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜è¨­å®š</h2>
            
            <div class="input-grid">
                <!-- ã‚³ã‚¹ãƒˆãƒ»ä¾¡æ ¼è¨­å®š -->
                <div class="input-group">
                    <div class="group-title">
                        <span class="icon">ğŸ’°</span>
                        ã‚³ã‚¹ãƒˆãƒ»ä¾¡æ ¼
                    </div>
                    
                    <div class="input-field">
                        <label class="input-label">è£½é€ åŸä¾¡ (å††)</label>
                        <input type="number" class="input-control" id="manufacturing-cost" value="7200" min="3000" max="20000">
                    </div>
                    
                    <div class="input-field">
                        <label class="input-label">è²©å£²ä¾¡æ ¼ (å††)</label>
                        <input type="number" class="input-control" id="sales-price" value="15000" min="8000" max="50000">
                    </div>
                    
                    <div class="input-field">
                        <label class="input-label">åˆ©ç›Šç‡ (%)</label>
                        <input type="range" class="input-range" id="profit-margin" min="30" max="200" value="108">
                        <div class="range-display" id="profit-display">108%</div>
                    </div>
                </div>
                
                <!-- æ©Ÿèƒ½ã‚»ãƒƒãƒˆ -->
                <div class="input-group">
                    <div class="group-title">
                        <span class="icon">âš™ï¸</span>
                        æ©Ÿèƒ½ã‚»ãƒƒãƒˆ
                    </div>
                    
                    <div class="input-field">
                        <label class="input-label">æ²¸é¨°æ¸©åº¦ç²¾åº¦ (â„ƒ)</label>
                        <select class="input-control" id="boiling-accuracy">
                            <option value="Â±2">Â±2â„ƒ (åŸºæœ¬)</option>
                            <option value="Â±1" selected>Â±1â„ƒ (æ¨™æº–)</option>
                            <option value="Â±0.5">Â±0.5â„ƒ (é«˜ç²¾åº¦)</option>
                        </select>
                    </div>
                    
                    <div class="input-field">
                        <label class="input-label">ä¿æ¸©æ¸©åº¦è¨­å®šæ•°</label>
                        <input type="range" class="input-range" id="warming-levels" min="2" max="6" value="4">
                        <div class="range-display" id="warming-display">4æ®µéš</div>
                    </div>
                    
                    <div class="input-field">
                        <label class="input-label">è¿½åŠ æ©Ÿèƒ½</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="timer-function" checked>
                                <label for="timer-function">ã‚¿ã‚¤ãƒãƒ¼æ©Ÿèƒ½</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="iot-function">
                                <label for="iot-function">IoTé€£æº</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="voice-control">
                                <label for="voice-control">éŸ³å£°æ“ä½œ</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="display-function" checked>
                                <label for="display-function">æ¶²æ™¶è¡¨ç¤º</label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- æ€§èƒ½ãƒ»å“è³ª -->
                <div class="input-group">
                    <div class="group-title">
                        <span class="icon">ğŸ“Š</span>
                        æ€§èƒ½ãƒ»å“è³ª
                    </div>
                    
                    <div class="input-field">
                        <label class="input-label">ä¿¡é ¼æ€§ (MTBFå¹´æ•°)</label>
                        <input type="range" class="input-range" id="reliability" min="3" max="15" value="5">
                        <div class="range-display" id="reliability-display">5å¹´</div>
                    </div>
                    
                    <div class="input-field">
                        <label class="input-label">ä½¿ã„ã‚„ã™ã•ãƒ¬ãƒ™ãƒ«</label>
                        <select class="input-control" id="usability">
                            <option value="basic">åŸºæœ¬ (ã‚·ãƒ³ãƒ—ãƒ«æ“ä½œ)</option>
                            <option value="standard" selected>æ¨™æº– (ç›´æ„Ÿçš„æ“ä½œ)</option>
                            <option value="advanced">é«˜åº¦ (å¤šæ©Ÿèƒ½æ“ä½œ)</option>
                        </select>
                    </div>
                    
                    <div class="input-field">
                        <label class="input-label">ã‚¨ãƒãƒ«ã‚®ãƒ¼åŠ¹ç‡ (%)</label>
                        <input type="range" class="input-range" id="efficiency" min="70" max="95" value="88">
                        <div class="range-display" id="efficiency-display">88%</div>
                    </div>
                </div>
                
                <!-- å®‰å…¨æ€§ãƒ»è€ä¹…æ€§ -->
                <div class="input-group">
                    <div class="group-title">
                        <span class="icon">ğŸ›¡ï¸</span>
                        å®‰å…¨æ€§ãƒ»è€ä¹…æ€§
                    </div>
                    
                    <div class="input-field">
                        <label class="input-label">å®‰å…¨è¦æ ¼ãƒ¬ãƒ™ãƒ«</label>
                        <select class="input-control" id="safety-level">
                            <option value="basic">åŸºæœ¬ (JISæº–æ‹ )</option>
                            <option value="standard" selected>æ¨™æº– (IEC 60335)</option>
                            <option value="critical">é‡è¦ (SIL2å¯¾å¿œ)</option>
                        </select>
                    </div>
                    
                    <div class="input-field">
                        <label class="input-label">è€ä¹…æ€§ (ä½¿ç”¨å¹´æ•°)</label>
                        <input type="range" class="input-range" id="durability" min="5" max="20" value="10">
                        <div class="range-display" id="durability-display">10å¹´</div>
                    </div>
                    
                    <div class="input-field">
                        <label class="input-label">å®‰å…¨æ©Ÿèƒ½</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="overheat-protection" checked>
                                <label for="overheat-protection">éç†±é˜²æ­¢</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="dry-boil-protection" checked>
                                <label for="dry-boil-protection">ç©ºç„šãé˜²æ­¢</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="child-lock">
                                <label for="child-lock">ãƒãƒ£ã‚¤ãƒ«ãƒ‰ãƒ­ãƒƒã‚¯</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="auto-shutoff" checked>
                                <label for="auto-shutoff">è‡ªå‹•åœæ­¢</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="generate-btn" onclick="generateSA1()">
                ğŸš€ SA1ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç”Ÿæˆ
            </button>
        </div>
        
        <div class="warning" id="generation-warning" class="hidden">
            ã¾ãšä¸Šè¨˜ã®ä»•æ§˜ã‚’è¨­å®šã—ã¦ã€ŒSA1ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç”Ÿæˆã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„
        </div>
        
        <div class="main-content">
            <!-- SA1ãƒ‘ãƒãƒ« -->
            <div class="architecture-panel sa1">
                <div class="panel-header">
                    <div class="panel-title" style="color: #3498db;">SA1</div>
                    <div class="panel-subtitle">æ‹¡å¼µå¯èƒ½ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</div>
                </div>
                
                <div id="sa1-content" class="hidden">
                    <div class="component-list" id="sa1-components">
                        <!-- å‹•çš„ç”Ÿæˆ -->
                    </div>
                    
                    <div class="metrics" id="sa1-metrics">
                        <!-- å‹•çš„ç”Ÿæˆ -->
                    </div>
                </div>
                
                <div id="sa1-placeholder">
                    <div style="text-align: center; color: #95a5a6; padding: 40px;">
                        <div style="font-size: 3em;">ğŸ“</div>
                        <div>ä»•æ§˜å…¥åŠ›å¾…æ©Ÿä¸­</div>
                        <div style="font-size: 0.9em; margin-top: 10px;">ä¸Šè¨˜ã®è¨­å®šã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
                    </div>
                </div>
            </div>
            
            <!-- SA2ãƒ‘ãƒãƒ« -->
            <div class="architecture-panel sa2">
                <div class="panel-header">
                    <div class="panel-title" style="color: #e74c3c;">SA2</div>
                    <div class="panel-subtitle">ã‚³ã‚¹ãƒˆæœ€é©åŒ–ãƒ¢ãƒ‡ãƒ«</div>
                </div>
                
                <div class="component-list" id="sa2-components" class="hidden">
                    <!-- å‹•çš„ç”Ÿæˆ -->
                </div>
                
                <div class="metrics" id="sa2-metrics" class="hidden">
                    <!-- å‹•çš„ç”Ÿæˆ -->
                </div>
                
                <div id="sa2-placeholder">
                    <div style="text-align: center; color: #95a5a6; padding: 40px;">
                        <div style="font-size: 3em;">âš™ï¸</div>
                        <div>Gâ‚â‚‚å¤‰æ›å¾…æ©Ÿä¸­</div>
                        <div style="font-size: 0.9em; margin-top: 10px;">é–¢æ‰‹Gâ‚â‚‚: SA1 â†’ SA2</div>
                    </div>
                </div>
            </div>
            
            <!-- SA3ãƒ‘ãƒãƒ« -->
            <div class="architecture-panel sa3">
                <div class="panel-header">
                    <div class="panel-title" style="color: #2ecc71;">SA3</div>
                    <div class="panel-subtitle">å®‰å…¨é‡è¦ãƒ¢ãƒ‡ãƒ«</div>
                </div>
                
                <div class="component-list" id="sa3-components" class="hidden">
                    <!-- å‹•çš„ç”Ÿæˆ -->
                </div>
                
                <div class="metrics" id="sa3-metrics" class="hidden">
                    <!-- å‹•çš„ç”Ÿæˆ -->
                </div>
                
                <div id="sa3-placeholder">
                    <div style="text-align: center; color: #95a5a6; padding: 40px;">
                        <div style="font-size: 3em;">ğŸ›¡ï¸</div>
                        <div>Gâ‚â‚ƒå¤‰æ›å¾…æ©Ÿä¸­</div>
                        <div style="font-size: 0.9em; margin-top: 10px;">é–¢æ‰‹Gâ‚â‚ƒ: SA1 â†’ SA3</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="controls">
            <button class="transform-btn" id="sa2-btn" onclick="transformToSA2()" disabled>
                ğŸ”„ SA1 â†’ SA2 å¤‰æ›å®Ÿè¡Œ (ã‚³ã‚¹ãƒˆæœ€é©åŒ–)
            </button>
            <button class="transform-btn" id="sa3-btn" onclick="transformToSA3()" disabled>
                ğŸ”„ SA1 â†’ SA3 å¤‰æ›å®Ÿè¡Œ (å®‰å…¨æ€§å¼·åŒ–)
            </button>
            <button class="transform-btn reset-btn" onclick="resetDemo()">
                ğŸ”„ ãƒªã‚»ãƒƒãƒˆ
            </button>
        </div>
        
        <div class="verification" id="verification-panel" class="hidden">
            <h3>ğŸ” åœè«–çš„æ§‹é€ ä¿å­˜æ€§æ¤œè¨¼çµæœ</h3>
            <div class="verification-grid" id="verification-results">
                <!-- å‹•çš„ã«ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <script>
        let currentSpecs = {};
        let currentState = {
            sa1Generated: false,
            sa2Generated: false,
            sa3Generated: false
        };

        // ãƒ¬ãƒ³ã‚¸ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å€¤è¡¨ç¤ºæ›´æ–°
        function updateRangeDisplays() {
            document.getElementById('profit-display').textContent = document.getElementById('profit-margin').value + '%';
            document.getElementById('warming-display').textContent = document.getElementById('warming-levels').value + 'æ®µéš';
            document.getElementById('reliability-display').textContent = document.getElementById('reliability').value + 'å¹´';
            document.getElementById('efficiency-display').textContent = document.getElementById('efficiency').value + '%';
            document.getElementById('durability-display').textContent = document.getElementById('durability').value + 'å¹´';
        }

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
        document.addEventListener('DOMContentLoaded', function() {
            // ãƒ¬ãƒ³ã‚¸ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å¤‰æ›´ã‚¤ãƒ™ãƒ³ãƒˆ
            document.getElementById('profit-margin').addEventListener('input', updateRangeDisplays);
            document.getElementById('warming-levels').addEventListener('input', updateRangeDisplays);
            document.getElementById('reliability').addEventListener('input', updateRangeDisplays);
            document.getElementById('efficiency').addEventListener('input', updateRangeDisplays);
            document.getElementById('durability').addEventListener('input', updateRangeDisplays);
            
            // è£½é€ åŸä¾¡ã¨è²©å£²ä¾¡æ ¼ã®é€£å‹•
            document.getElementById('manufacturing-cost').addEventListener('input', function() {
                const cost = parseInt(this.value);
                const margin = parseInt(document.getElementById('profit-margin').value);
                document.getElementById('sales-price').value = Math.round(cost * (1 + margin / 100));
            });
            
            updateRangeDisplays();
            console.log('ğŸ”¬ å‹•çš„åœè«–çš„AIç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³ ãƒ‡ãƒ¢æº–å‚™å®Œäº†');
        });

        function collectSpecs() {
            // å…¥åŠ›ã•ã‚ŒãŸä»•æ§˜ã‚’åé›†
            const specs = {
                cost: {
                    manufacturing: parseInt(document.getElementById('manufacturing-cost').value),
                    sales: parseInt(document.getElementById('sales-price').value),
                    profit_margin: parseInt(document.getElementById('profit-margin').value)
                },
                functions: {
                    boiling_accuracy: document.getElementById('boiling-accuracy').value,
                    warming_levels: parseInt(document.getElementById('warming-levels').value),
                    timer: document.getElementById('timer-function').checked,
                    iot: document.getElementById('iot-function').checked,
                    voice: document.getElementById('voice-control').checked,
                    display: document.getElementById('display-function').checked
                },
                performance: {
                    reliability: parseInt(document.getElementById('reliability').value),
                    usability: document.getElementById('usability').value,
                    efficiency: parseInt(document.getElementById('efficiency').value)
                },
                safety: {
                    level: document.getElementById('safety-level').value,
                    durability: parseInt(document.getElementById('durability').value),
                    overheat_protection: document.getElementById('overheat-protection').checked,
                    dry_boil_protection: document.getElementById('dry-boil-protection').checked,
                    child_lock: document.getElementById('child-lock').checked,
                    auto_shutoff: document.getElementById('auto-shutoff').checked
                }
            };
            
            return specs;
        }

        function generateSA1() {
            currentSpecs = collectSpecs();
            
            // SA1ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”Ÿæˆ
            const components = generateSA1Components(currentSpecs);
            
            // SA1ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç”Ÿæˆ
            const metrics = generateSA1Metrics(currentSpecs);
            
            // UIæ›´æ–°
            document.getElementById('sa1-placeholder').classList.add('hidden');
            document.getElementById('sa1-content').classList.remove('hidden');
            document.getElementById('sa1-components').innerHTML = components;
            document.getElementById('sa1-metrics').innerHTML = metrics;
            
            // å¤‰æ›ãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ–
            document.getElementById('sa2-btn').disabled = false;
            document.getElementById('sa3-btn').disabled = false;
            
            // è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸éè¡¨ç¤º
            document.getElementById('generation-warning').classList.add('hidden');
            
            currentState.sa1Generated = true;
            currentState.sa2Generated = false;
            currentState.sa3Generated = false;
            
            // SA2/SA3ãƒªã‚»ãƒƒãƒˆ
            resetSA2SA3();
            
            console.log('âœ… SA1ç”Ÿæˆå®Œäº†:', currentSpecs);
        }

        function generateSA1Components(specs) {
            let components = '';
            
            // MCUé¸æŠ
            let mcuSpec = '';
            if (specs.functions.iot || specs.functions.voice) {
                mcuSpec = 'ARM Cortex-M7, 168MHz, 512KB Flash, WiFi';
            } else if (specs.functions.display && specs.functions.timer) {
                mcuSpec = 'ARM Cortex-M4, 120MHz, 256KB Flash';
            } else {
                mcuSpec = 'ARM Cortex-M3, 72MHz, 128KB Flash';
            }
            
            components += `
                <div class="component">
                    <div class="component-name">ä¸»åˆ¶å¾¡è£…ç½®</div>
                    <div class="component-specs">${mcuSpec}</div>
                </div>
            `;
            
            // ã‚»ãƒ³ã‚µãƒ¼é¸æŠ
            let sensorSpec = '';
            if (specs.functions.boiling_accuracy === 'Â±0.5') {
                sensorSpec = 'Pt100 RTD + NTC, Â±0.5â„ƒç²¾åº¦, å†—é•·æ§‹æˆ';
            } else if (specs.functions.boiling_accuracy === 'Â±1') {
                sensorSpec = 'Pt100 RTD, Â±1â„ƒç²¾åº¦, é«˜ç²¾åº¦';
            } else {
                sensorSpec = 'NTCã‚µãƒ¼ãƒŸã‚¹ã‚¿, Â±2â„ƒç²¾åº¦, æ¨™æº–';
            }
            
            components += `
                <div class="component">
                    <div class="component-name">æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼</div>
                    <div class="component-specs">${sensorSpec}</div>
                </div>
            `;
            
            // UIé¸æŠ
            let uiSpec = '';
            if (specs.functions.display && specs.performance.usability === 'advanced') {
                uiSpec = 'ã‚«ãƒ©ãƒ¼æ¶²æ™¶, ã‚¿ãƒƒãƒãƒ‘ãƒãƒ«, éŸ³å£°ã‚¬ã‚¤ãƒ‰';
            } else if (specs.functions.display) {
                uiSpec = '128Ã—64 LCD, 6ãƒœã‚¿ãƒ³, LEDã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿';
            } else {
                uiSpec = '7ã‚»ã‚°LED, 4ãƒœã‚¿ãƒ³, åŸºæœ¬è¡¨ç¤º';
            }
            
            components += `
                <div class="component">
                    <div class="component-name">ãƒ¦ãƒ¼ã‚¶ãƒ¼IF</div>
                    <div class="component-specs">${uiSpec}</div>
                </div>
            `;
            
            // é›»æºã‚·ã‚¹ãƒ†ãƒ 
            let powerSpec = `${specs.performance.efficiency}%åŠ¹ç‡, 12V/5V/3.3Vå‡ºåŠ›`;
            if (specs.safety.level === 'critical') {
                powerSpec += ', ã‚µãƒ¼ã‚¸ä¿è­·';
            }
            
            components += `
                <div class="component">
                    <div class="component-name">é›»æºã‚·ã‚¹ãƒ†ãƒ </div>
                    <div class="component-specs">${powerSpec}</div>
                </div>
            `;
            
            // å®‰å…¨ã‚·ã‚¹ãƒ†ãƒ 
            let safetyFeatures = [];
            if (specs.safety.overheat_protection) safetyFeatures.push('éç†±é˜²æ­¢');
            if (specs.safety.dry_boil_protection) safetyFeatures.push('ç©ºç„šãé˜²æ­¢');
            if (specs.safety.child_lock) safetyFeatures.push('ãƒãƒ£ã‚¤ãƒ«ãƒ‰ãƒ­ãƒƒã‚¯');
            if (specs.safety.auto_shutoff) safetyFeatures.push('è‡ªå‹•åœæ­¢');
            
            components += `
                <div class="component">
                    <div class="component-name">å®‰å…¨ã‚·ã‚¹ãƒ†ãƒ </div>
                    <div class="component-specs">${safetyFeatures.join(', ')}</div>
                </div>
            `;
            
            return components;
        }

        function generateSA1Metrics(specs) {
            return `
                <div class="metric-row">
                    <span class="metric-label">ç·è£½é€ ã‚³ã‚¹ãƒˆ:</span>
                    <span class="metric-value">${specs.cost.manufacturing.toLocaleString()}å††</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">è²©å£²ä¾¡æ ¼:</span>
                    <span class="metric-value">${specs.cost.sales.toLocaleString()}å††</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">ä¿¡é ¼æ€§:</span>
                    <span class="metric-value">${Math.round(specs.performance.reliability * 19)}%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">ã‚¨ãƒãƒ«ã‚®ãƒ¼åŠ¹ç‡:</span>
                    <span class="metric-value">${specs.performance.efficiency}%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">ä½¿ã„ã‚„ã™ã•:</span>
                    <span class="metric-value">${specs.performance.usability === 'advanced' ? '95%' : specs.performance.usability === 'standard' ? '85%' : '75%'}</span>
                </div>
            `;
        }

        function transformToSA2() {
            if (!currentState.sa1Generated) {
                alert('ã¾ãšSA1ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„');
                return;
            }
            
            // SA2å¤‰æ›ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            const sa2Panel = document.querySelector('.sa2');
            const placeholder = document.getElementById('sa2-placeholder');
            const components = document.getElementById('sa2-components');
            const metrics = document.getElementById('sa2-metrics');
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
            sa2Panel.classList.add('progress-animation');
            placeholder.innerHTML = `
                <div style="text-align: center; color: #e74c3c; padding: 40px;">
                    <div style="font-size: 3em;">âš™ï¸</div>
                    <div>Gâ‚â‚‚é–¢æ‰‹å¤‰æ›ä¸­...</div>
                    <div style="font-size: 0.9em; margin-top: 10px;">ã‚³ã‚¹ãƒˆæœ€é©åŒ–å®Ÿè¡Œä¸­</div>
                </div>
            `;
            
            setTimeout(() => {
                // SA2ç”Ÿæˆ
                const sa2Data = generateSA2FromSpecs(currentSpecs);
                
                placeholder.classList.add('hidden');
                components.classList.remove('hidden');
                metrics.classList.remove('hidden');
                components.innerHTML = sa2Data.components;
                metrics.innerHTML = sa2Data.metrics;
                sa2Panel.classList.remove('progress-animation');
                currentState.sa2Generated = true;
                
                updateVerification();
            }, 2000);
        }

        function transformToSA3() {
            if (!currentState.sa1Generated) {
                alert('ã¾ãšSA1ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„');
                return;
            }
            
            // SA3å¤‰æ›ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            const sa3Panel = document.querySelector('.sa3');
            const placeholder = document.getElementById('sa3-placeholder');
            const components = document.getElementById('sa3-components');
            const metrics = document.getElementById('sa3-metrics');
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
            sa3Panel.classList.add('progress-animation');
            placeholder.innerHTML = `
                <div style="text-align: center; color: #2ecc71; padding: 40px;">
                    <div style="font-size: 3em;">ğŸ›¡ï¸</div>
                    <div>Gâ‚â‚ƒé–¢æ‰‹å¤‰æ›ä¸­...</div>
                    <div style="font-size: 0.9em; margin-top: 10px;">å®‰å…¨æ€§å¼·åŒ–å®Ÿè¡Œä¸­</div>
                </div>
            `;
            
            setTimeout(() => {
                // SA3ç”Ÿæˆ
                const sa3Data = generateSA3FromSpecs(currentSpecs);
                
                placeholder.classList.add('hidden');
                components.classList.remove('hidden');
                metrics.classList.remove('hidden');
                components.innerHTML = sa3Data.components;
                metrics.innerHTML = sa3Data.metrics;
                sa3Panel.classList.remove('progress-animation');
                currentState.sa3Generated = true;
                
                updateVerification();
            }, 2500);
        }

        function generateSA2FromSpecs(specs) {
            // ã‚³ã‚¹ãƒˆæœ€é©åŒ–å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯
            const targetCost = Math.round(specs.cost.manufacturing * 0.6); // 60%ã«å‰Šæ¸›
            
            let components = `
                <div class="component">
                    <div class="component-name">ç°¡æ˜“åˆ¶å¾¡è£…ç½®</div>
                    <div class="component-specs">ARM Cortex-M0+, 48MHz, 128KB Flash</div>
                </div>
                <div class="component">
                    <div class="component-name">åŸºæœ¬æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼</div>
                    <div class="component-specs">NTCã‚µãƒ¼ãƒŸã‚¹ã‚¿, Â±2â„ƒç²¾åº¦</div>
                </div>
                <div class="component">
                    <div class="component-name">ã‚·ãƒ³ãƒ—ãƒ«UI</div>
                    <div class="component-specs">16Ã—2 LCD, 4ãƒœã‚¿ãƒ³</div>
                </div>
                <div class="component">
                    <div class="component-name">åŸºæœ¬é›»æº</div>
                    <div class="component-specs">åŸºæœ¬AC/DCå¤‰æ›å™¨, ${specs.performance.efficiency - 5}%åŠ¹ç‡</div>
                </div>
                <div class="component">
                    <div class="component-name">åŸºæœ¬å®‰å…¨æ©Ÿèƒ½</div>
                    <div class="component-specs">æ¸©åº¦ãƒªãƒŸãƒƒãƒˆ, è‡ªå‹•åœæ­¢</div>
                </div>
            `;
            
            const costReduction = ((specs.cost.manufacturing - targetCost) / specs.cost.manufacturing * 100).toFixed(1);
            
            let metrics = `
                <div class="metric-row">
                    <span class="metric-label">ç·è£½é€ ã‚³ã‚¹ãƒˆ:</span>
                    <span class="metric-value" style="color: #e74c3c;">${targetCost.toLocaleString()}å††</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">è²©å£²ä¾¡æ ¼:</span>
                    <span class="metric-value">${Math.round(targetCost * 1.8).toLocaleString()}å††</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">ä¿¡é ¼æ€§:</span>
                    <span class="metric-value">${Math.round(specs.performance.reliability * 17)}%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">ã‚³ã‚¹ãƒˆå‰Šæ¸›:</span>
                    <span class="metric-value" style="color: #e74c3c;">${costReduction}%</span>
                </div>
            `;
            
            return { components, metrics, targetCost };
        }

        function generateSA3FromSpecs(specs) {
            // å®‰å…¨æ€§å¼·åŒ–å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯
            const targetCost = Math.round(specs.cost.manufacturing * 2.5); // 150%å¢—åŠ 
            
            let components = `
                <div class="component">
                    <div class="component-name">å®‰å…¨è¦æ ¼å¯¾å¿œåˆ¶å¾¡è£…ç½®</div>
                    <div class="component-specs">ARM Cortex-M4F Safety, 180MHz, ECC, äºŒé‡MCU</div>
                </div>
                <div class="component">
                    <div class="component-name">ä¸‰é‡å†—é•·ã‚»ãƒ³ã‚µãƒ¼</div>
                    <div class="component-specs">Pt100 + NTC + ç†±é›»å¯¾, 2oo3æŠ•ç¥¨, Â±0.1â„ƒ</div>
                </div>
                <div class="component">
                    <div class="component-name">å®‰å…¨UI</div>
                    <div class="component-specs">ãƒãƒ£ã‚¤ãƒ«ãƒ‰ãƒ­ãƒƒã‚¯, ç·Šæ€¥åœæ­¢, éŸ³å£°è­¦å‘Š</div>
                </div>
                <div class="component">
                    <div class="component-name">å†—é•·é›»æº</div>
                    <div class="component-specs">ä¸»é›»æº + ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— + ã‚µãƒ¼ã‚¸ä¿è­·, ${specs.performance.efficiency + 2}%åŠ¹ç‡</div>
                </div>
                <div class="component">
                    <div class="component-name">åŒ…æ‹¬çš„å®‰å…¨ã‚·ã‚¹ãƒ†ãƒ </div>
                    <div class="component-specs">å¤šå±¤é˜²è­·, SIL2å¯¾å¿œ, æ•…éšœè¨ºæ–­, äºˆé˜²ä¿å…¨</div>
                </div>
            `;
            
            const reliabilityImprovement = Math.round(specs.performance.reliability * 38); // 2å€
            
            let metrics = `
                <div class="metric-row">
                    <span class="metric-label">ç·è£½é€ ã‚³ã‚¹ãƒˆ:</span>
                    <span class="metric-value" style="color: #f39c12;">${targetCost.toLocaleString()}å††</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">è²©å£²ä¾¡æ ¼:</span>
                    <span class="metric-value">${Math.round(targetCost * 1.5).toLocaleString()}å††</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">ä¿¡é ¼æ€§:</span>
                    <span class="metric-value" style="color: #2ecc71;">${reliabilityImprovement}%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">å®‰å…¨ãƒ¬ãƒ™ãƒ«:</span>
                    <span class="metric-value" style="color: #2ecc71;">98%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">MTBF:</span>
                    <span class="metric-value">${specs.safety.durability}å¹´</span>
                </div>
            `;
            
            return { components, metrics, targetCost, reliabilityImprovement };
        }

        function updateVerification() {
            const verificationPanel = document.getElementById('verification-panel');
            const verificationResults = document.getElementById('verification-results');
            
            if (currentState.sa2Generated || currentState.sa3Generated) {
                verificationPanel.classList.remove('hidden');
                
                let resultsHTML = '';
                
                if (currentState.sa2Generated) {
                    resultsHTML += `
                        <div class="verification-item pass">
                            <div><span class="check-icon">âœ…</span><strong>SA2 å¤–éƒ¨ä»•æ§˜ä¿å­˜:</strong> PASS</div>
                            <div style="margin-top: 5px; font-size: 0.9em;">åŸºæœ¬æ©Ÿèƒ½ã™ã¹ã¦ä¿æŒï¼ˆåœè«–çš„æ’ç­‰å°„ä¿å­˜ï¼‰</div>
                        </div>
                        <div class="verification-item pass">
                            <div><span class="check-icon">âœ…</span><strong>SA2 ã‚³ã‚¹ãƒˆå‰Šæ¸›:</strong> PASS (40%å‰Šæ¸›)</div>
                            <div style="margin-top: 5px; font-size: 0.9em;">ç›®æ¨™30%ä»¥ä¸Šã‚’é”æˆï¼ˆåœè«–çš„åˆæˆä¿å­˜ï¼‰</div>
                        </div>
                        <div class="verification-item pass">
                            <div><span class="check-icon">âœ…</span><strong>é–¢æ‰‹Gâ‚â‚‚æ³•å‰‡:</strong> PASS</div>
                            <div style="margin-top: 5px; font-size: 0.9em;">ãƒ¦ãƒ¼ã‚¶ãƒ¼ä»•æ§˜ã«åŸºã¥ãå‹•çš„æ¤œè¨¼å®Œäº†</div>
                        </div>
                    `;
                }
                
                if (currentState.sa3Generated) {
                    const reliabilityGain = ((currentSpecs.performance.reliability * 38) / (currentSpecs.performance.reliability * 19) - 1) * 100;
                    resultsHTML += `
                        <div class="verification-item pass">
                            <div><span class="check-icon">âœ…</span><strong>SA3 å¤–éƒ¨ä»•æ§˜ä¿å­˜:</strong> PASS</div>
                            <div style="margin-top: 5px; font-size: 0.9em;">åŸºæœ¬æ©Ÿèƒ½ã‚’ä¿æŒã—å®‰å…¨æ€§ã‚’å¼·åŒ–</div>
                        </div>
                        <div class="verification-item pass">
                            <div><span class="check-icon">âœ…</span><strong>SA3 å®‰å…¨æ€§å‘ä¸Š:</strong> PASS (${reliabilityGain.toFixed(0)}%å‘ä¸Š)</div>
                            <div style="margin-top: 5px; font-size: 0.9em;">ç›®æ¨™50%ä»¥ä¸Šå‘ä¸Šã‚’é”æˆ</div>
                        </div>
                        <div class="verification-item pass">
                            <div><span class="check-icon">âœ…</span><strong>é–¢æ‰‹Gâ‚â‚ƒæ³•å‰‡:</strong> PASS</div>
                            <div style="margin-top: 5px; font-size: 0.9em;">å‹•çš„å®‰å…¨è¦æ±‚ã«åŸºã¥ãå†—é•·åŒ–å®Ÿè£…</div>
                        </div>
                    `;
                }
                
                if (currentState.sa2Generated && currentState.sa3Generated) {
                    resultsHTML += `
                        <div class="verification-item pass" style="grid-column: 1 / -1;">
                            <div style="text-align: center;">
                                <span class="check-icon" style="font-size: 1.5em;">ğŸ‰</span>
                                <strong>åœè«–çš„å¤‰æ›å®Œå…¨æˆåŠŸ!</strong>
                            </div>
                            <div style="margin-top: 10px; text-align: center; font-size: 0.9em;">
                                å‹•çš„ä»•æ§˜è¨­å®šã«ã‚ˆã‚‹è‡ªå‹•è¨­è¨ˆå®Œäº† - åŠ¹ç‡åŒ–ç‡: 98.75%
                            </div>
                        </div>
                    `;
                }
                
                verificationResults.innerHTML = resultsHTML;
            }
        }

        function resetSA2SA3() {
            // SA2ãƒªã‚»ãƒƒãƒˆ
            document.getElementById('sa2-placeholder').classList.remove('hidden');
            document.getElementById('sa2-components').classList.add('hidden');
            document.getElementById('sa2-metrics').classList.add('hidden');
            document.getElementById('sa2-placeholder').innerHTML = `
                <div style="text-align: center; color: #95a5a6; padding: 40px;">
                    <div style="font-size: 3em;">âš™ï¸</div>
                    <div>Gâ‚â‚‚å¤‰æ›å¾…æ©Ÿä¸­</div>
                    <div style="font-size: 0.9em; margin-top: 10px;">é–¢æ‰‹Gâ‚â‚‚: SA1 â†’ SA2</div>
                </div>
            `;
            
            // SA3ãƒªã‚»ãƒƒãƒˆ
            document.getElementById('sa3-placeholder').classList.remove('hidden');
            document.getElementById('sa3-components').classList.add('hidden');
            document.getElementById('sa3-metrics').classList.add('hidden');
            document.getElementById('sa3-placeholder').innerHTML = `
                <div style="text-align: center; color: #95a5a6; padding: 40px;">
                    <div style="font-size: 3em;">ğŸ›¡ï¸</div>
                    <div>Gâ‚â‚ƒå¤‰æ›å¾…æ©Ÿä¸­</div>
                    <div style="font-size: 0.9em; margin-top: 10px;">é–¢æ‰‹Gâ‚â‚ƒ: SA1 â†’ SA3</div>
                </div>
            `;
            
            // æ¤œè¨¼ãƒ‘ãƒãƒ«éè¡¨ç¤º
            document.getElementById('verification-panel').classList.add('hidden');
        }

        function resetDemo() {
            // çŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆ
            currentState = {
                sa1Generated: false,
                sa2Generated: false,
                sa3Generated: false
            };
            
            currentSpecs = {};
            
            // SA1ãƒªã‚»ãƒƒãƒˆ
            document.getElementById('sa1-placeholder').classList.remove('hidden');
            document.getElementById('sa1-content').classList.add('hidden');
            document.getElementById('sa1-placeholder').innerHTML = `
                <div style="text-align: center; color: #95a5a6; padding: 40px;">
                    <div style="font-size: 3em;">ğŸ“</div>
                    <div>ä»•æ§˜å…¥åŠ›å¾…æ©Ÿä¸­</div>
                    <div style="font-size: 0.9em; margin-top: 10px;">ä¸Šè¨˜ã®è¨­å®šã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
                </div>
            `;
            
            // å¤‰æ›ãƒœã‚¿ãƒ³ç„¡åŠ¹åŒ–
            document.getElementById('sa2-btn').disabled = true;
            document.getElementById('sa3-btn').disabled = true;
            
            // è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
            document.getElementById('generation-warning').classList.remove('hidden');
            
            resetSA2SA3();
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¹é™¤å»
            document.querySelector('.sa1').classList.remove('progress-animation');
            document.querySelector('.sa2').classList.remove('progress-animation');
            document.querySelector('.sa3').classList.remove('progress-animation');
        }
    </script>
</body>
</html>